<div class="coupon-card" [ngClass]="theme ? [theme] : []">
    <div class="coupon-card__header">
        <div class="coupon-card__badge">
            <i class="fa fa-gift" aria-hidden="true"></i>
        </div>
        <div class="coupon-card__text">
            <div class="coupon-card__title">{{'Use Coupon Code' | translate}}</div>
            <div class="coupon-card__subtitle">{{'Unlock offers with coupon code' | translate}}</div>
        </div>
        <label class="coupon-card__switch">
            <input type="checkbox" (change)="couponCheck($event)" [checked]="couponChecked">
            <span>{{'Apply' | translate}}</span>
        </label>
    </div>

    <div class="coupon-card__body" *ngIf="couponChecked">
        <div class="coupon-card__input-group">
            <input [ngClass]="{'invalid':!couponValid}" (keydown)="clearCouponErrors()"
                placeholder="{{'Enter coupon code' | translate}}" type="text" class="coupon-card__input"
                [(ngModel)]="selectedCoupon">
            <button class="coupon-card__apply" (click)="applyCoupons()" type="button">{{'Apply' | translate}}</button>
        </div>
        <div class="coupon-card__error" *ngIf="couponError !== null">{{couponError}}</div>
    </div>

    <div class="coupon-card__footer" (click)="openCoupons()">
        <span><i class="fa fa-tags" aria-hidden="true"></i>{{'View Available Coupons' | translate}}</span>
    </div>

    <div class="coupon-card__list" *ngIf="couponsList && couponsList.length>0">
        <div class="coupon-card__item" *ngFor="let coupon of couponsList; let i = index">
            <div class="coupon-card__item-code">{{coupon.couponCode}}</div>
            <div class="coupon-card__item-actions">
                <button type="button" class="coupon-card__link" *ngIf="coupon.instructions"
                    (click)="toggleterms(i)">{{'Read T&C' | translate}}</button>
                <button type="button" class="coupon-card__remove" (click)="removeJCoupon(i)"
                    [matTooltipClass]="tooltipcls" [matTooltip]="'Remove Coupon'">
                    <i class="icon-delete" aria-hidden="true"></i>
                </button>
            </div>
            <div class="coupon-card__item-instructions" *ngIf="coupon.showme">
                {{coupon.instructions}}
            </div>
        </div>
    </div>
</div>
